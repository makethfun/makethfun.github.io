<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>[TIL] Js Variable Hoisting | MY TIL CHALLENGE</title>
<meta name="keywords" content="에이블런, 서초구 4차 산업 소프트웨어 과정, TIL, Today I Learned, hoisting">
<meta name="description" content="javascript hoisting">
<meta name="author" content="berry">
<link rel="canonical" href="https://canonical.url/to/page">
<meta name="google-site-verification" content="XYZabc">
<meta name="yandex-verification" content="XYZabc">
<meta name="msvalidate.01" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://makethfun.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="https://makethfun.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="https://makethfun.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="https://makethfun.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="https://makethfun.github.io/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://makethfun.github.io/posts/seocho/til-js-variable-hoisting/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
onload="renderMathInElement(document.body);"></script>


>

  

<meta property="og:title" content="[TIL] Js Variable Hoisting" />
<meta property="og:description" content="javascript hoisting" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://makethfun.github.io/posts/seocho/til-js-variable-hoisting/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-05-21T09:51:55+09:00" />
<meta property="article:modified_time" content="2024-05-21T09:51:55+09:00" /><meta property="og:site_name" content="ExampleSite" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[TIL] Js Variable Hoisting"/>
<meta name="twitter:description" content="javascript hoisting"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://makethfun.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "[TIL] Js Variable Hoisting",
      "item": "https://makethfun.github.io/posts/seocho/til-js-variable-hoisting/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "[TIL] Js Variable Hoisting",
  "name": "[TIL] Js Variable Hoisting",
  "description": "javascript hoisting",
  "keywords": [
    "에이블런", "서초구 4차 산업 소프트웨어 과정", "TIL", "Today I Learned", "hoisting"
  ],
  "articleBody": "Today, I learned 😁 1. var 함수의 코드 블록만을 스코프로 인정함. 함수 외부의 변수는 모두 전역변수가 되고 이는 변수의 중복 선언으로 의도치 않은 변수값 변경이 일어날 수 있음. 이를 위해 let과 const를 도입.\n대부분 언어는 block-level scope를 따르지만 자바스크립트는 function-level scope를 따름. function-level scope : 함수 내에서 선언된 변수는 함수 내에서만 유효함. 함수 내부에서 선언된 변수는 지역변수이며 외부에서 선언된 변수는 모두 전역 변수이다. block-level scope : 모든 코드블록(함수, if문, for문, while문, try/catch문 등) 내에서 선언된 변수는 코드 블록 내에서만 유효하고, 코드블록 외부에서 참조할 수 없음. 코드 블록 내부에서 선언한 변수는 지역변수이다.\n// function-level scope // 전역변수로 만들어진 foo가 블록 내에서 만들어진 foo의 값을 참조함 var foo = 123; console.log(foo); // 123 { var foo = 456; // 전역변수 } console.log(foo) // 456 // block-level scope // 전역에서 블록 레벨 스코프 안에 만들어진 변수를 참조할 수 없음. // 전역변수 let foo = 123; { let foo = 456; // 지역변수 let bar = 456; // 지역변수 } console.log(foo); // 123 console.log(bar); // ReferenceError: bar is not defined 2. 변수 중복 선언 금지 var는 동일한 이름을 갖는 변수 선언이 가능하지만 let은 SyntaxError가 발생함\n// 변수명 중복 가능 var foo = 123; var foo = 456; // 변수명 중복 불가: SyntaxError let bar = 123; let bar = 456; // Uncaught SyntaxError: Identifier 'bar' has already declared. 3. 호이스팅 호이스팅은 var 선언문이나 function 선언문 등을 해당 스코프의 선두로 옮긴 것처럼 동작하는 특성을 말한다. 하지만 var와는 달리 let으로 선언된 변수는 참조 에러(ReferenceError)가 발생한다. 이는 let으로 선언된 변수는 스코프의 시작에서 변수의 선언까지 일시적 사각지대(Temporal Dead Zone;TDZ)에 빠지기 때문이다.\nconsole.log(foo); // undefined var foo; console.log(bar); // Error: Uncaught ReferenceError: bar is not defined let bar; 변수의 생성단계\n선언 단계(Declaration phase): 변수를 실행컨텍스트의 변수객체(Variable Object)에 등록한다. 이 변수 객체는 스코프가 참조하는 대상이 된다. 초기화 단계(Initialization phase): 변수 객체(Variable Object)에 등록된 변수를 위한 공간을 메모리에 확보한다. 이 단계에서 변수는 undefined로 초기화된다. 할당 단계(Assginment phase): undefined로 초기화된 변수에 실제 값을 할당한다. var 키워드로 선언된 변수는 선언 단계와 초기화 단계가 한번에 이루어진다. 즉, 스코프에 변수를 등록(선언 단계)하고 메모리에 변수를 위한 공간을 확보한 후, defined로 초기화(초기화 단계)한다. 따라서 변수 선언문 이전에 변수에 접근하여도 스코프에 변수가 존재하므로 에러가 발생하지 않고 undefined 를 반환한다. 이후 할당문에 도달하면 비로소 값이 할당된다. 이런 현상을 변수 호이스팅이라 한다.\n// 스코프의 선두에서 선언 단계와 초기화 단계가 실행된다. console.log(foo); // undefined var foo; console.log(foo); // undefined foo = 1; // 할당문에서 할당 실행 console.log(foo); // 1 let 키워드로 선언된 변수는 선언 단계와 초기화 단계가 분리되어 진행된다. 즉, 스코프에 변수를 등록(선언) 하지만 초기화 단계는 변수 선언문에 도달했을 때 이루어진다. 초기화 이전에 변수에 접근하려고 하면 참조 에러(ReferenceError)가 발생한다. 이는 메모리 공간이 아직 확보되지 않았기 때문이다. 따라서 스코프 시작 지점부터 초기화 시작 지점까지는 변수를 참조할 수 없다. 해당 구간을 ‘일시적 사각지대(Temporal Dead Zone;TDZ)’ 이라고 부른다.\n// 스코프의 선두에서 선언 단계가 실행된다. // 아직 변수가 초기화(메모리 공간 확보와 undefined로 초기화)되지 않아 변수를 참조할 수 없다. console.log(foo); // ReferenceError: foo is not defined. let foo; // 변수 선언문에서 초기화 단계가 실행된다. console.log(foo); // undefined foo = 1; // 할당문에서 할당 단계 실행된다. console.log(foo); // 1 ES6에서는 호이스팅이 발생하지 않는 것과 차이가 없어보인다. 하지만 그렇지 않다.\nlet foo = 1; // 전역변수 { cosnole.log(foo); // ReferenceError: foo is not defined let foo = 2; // 지역변수 } 위 예제의 경우, 전역 변수 foo 값이 출력될 것 같지만 호이스팅이 발생하므로 ReferenceError가 발생한다.\nWant to more about 😭 과거 hoisting을 통해 코딩 방식을 함수를 한군데 모아두고 실행시 불러올 수 있었다. 해당 방식은 다른 사람이 코드를 리뷰하기 쉬워진다. 다만 변수명이 중복될 때나 runtime 오류가 발생했을 때 해당 오류를 찾아내기 어렵다. 예제를 찾다보니 ref 사이트를 많이 참조했다. 글쓰기 구조화가 필요한거 같다. index가 엉망이다. 이미지 파일을 등록할 서버를 찾아야겠다. ref 🔗 https://poiemaweb.com/es6-block-scope ",
  "wordCount" : "593",
  "inLanguage": "en",
  "datePublished": "2024-05-21T09:51:55+09:00",
  "dateModified": "2024-05-21T09:51:55+09:00",
  "author":{
    "@type": "Person",
    "name": "berry"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://makethfun.github.io/posts/seocho/til-js-variable-hoisting/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "MY TIL CHALLENGE",
    "logo": {
      "@type": "ImageObject",
      "url": "https://makethfun.github.io/%3Clink%20/%20abs%20url%3E"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://makethfun.github.io/" accesskey="h" title="makethfun (Alt + H)">
                <img src="https://makethfun.github.io/apple-touch-icon.png" alt="" aria-label="logo"
                    height="35">makethfun</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://makethfun.github.io/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://makethfun.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://makethfun.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://makethfun.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://makethfun.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://makethfun.github.io/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      [TIL] Js Variable Hoisting
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="35" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h1>
    <div class="post-description">
      javascript hoisting
    </div>
    <div class="post-meta"><span title='2024-05-21 09:51:55 +0900 KST'>May 21, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;berry&nbsp;|&nbsp;<a href="https://github.com/makethfun/content/posts/seocho/[TIL]-js-variable-hoisting.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><nav id="TableOfContents">
  <ul>
    <li><a href="#1-var">1. var</a></li>
    <li><a href="#2-변수-중복-선언-금지">2. 변수 중복 선언 금지</a></li>
    <li><a href="#3-호이스팅">3. 호이스팅</a></li>
  </ul>
</nav>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="today-i-learned-grin">Today, I learned &#x1f601;<a hidden class="anchor" aria-hidden="true" href="#today-i-learned-grin">#</a></h1>
<h2 id="1-var">1. var<a hidden class="anchor" aria-hidden="true" href="#1-var">#</a></h2>
<p>함수의 코드 블록만을 스코프로 인정함. 함수 외부의 변수는 모두 전역변수가 되고 이는 변수의 중복 선언으로 의도치 않은 변수값 변경이 일어날 수 있음.
이를 위해 let과 const를 도입.</p>
<p>대부분 언어는 block-level scope를 따르지만 자바스크립트는 function-level scope를 따름.
function-level scope : 함수 내에서 선언된 변수는 함수 내에서만 유효함. 함수 내부에서 선언된 변수는 지역변수이며 외부에서 선언된 변수는 모두 전역 변수이다.
block-level scope : 모든 코드블록(함수, if문, for문, while문, try/catch문 등) 내에서 선언된 변수는 코드 블록 내에서만 유효하고, 코드블록 외부에서 참조할 수 없음. 코드 블록 내부에서 선언한 변수는 지역변수이다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// function-level scope
</span></span></span><span class="line"><span class="cl"><span class="c1">// 전역변수로 만들어진 foo가 블록 내에서 만들어진 foo의 값을 참조함
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span> <span class="c1">// 123
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">456</span><span class="p">;</span> <span class="c1">// 전역변수
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="c1">// 456
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// block-level scope
</span></span></span><span class="line"><span class="cl"><span class="c1">// 전역에서 블록 레벨 스코프 안에 만들어진 변수를 참조할 수 없음.
</span></span></span><span class="line"><span class="cl"><span class="c1">// 전역변수
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">456</span><span class="p">;</span> <span class="c1">// 지역변수
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kd">let</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">456</span><span class="p">;</span> <span class="c1">// 지역변수
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span> <span class="c1">// 123
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span> <span class="c1">// ReferenceError: bar is not defined
</span></span></span></code></pre></div><h2 id="2-변수-중복-선언-금지">2. 변수 중복 선언 금지<a hidden class="anchor" aria-hidden="true" href="#2-변수-중복-선언-금지">#</a></h2>
<p>var는 동일한 이름을 갖는 변수 선언이 가능하지만 let은 SyntaxError가 발생함</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// 변수명 중복 가능
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">456</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 변수명 중복 불가: SyntaxError
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">let</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">456</span><span class="p">;</span> <span class="c1">// Uncaught SyntaxError: Identifier &#39;bar&#39; has already declared.
</span></span></span></code></pre></div><h2 id="3-호이스팅">3. 호이스팅<a hidden class="anchor" aria-hidden="true" href="#3-호이스팅">#</a></h2>
<p>호이스팅은 var 선언문이나 function 선언문 등을 해당 스코프의 선두로 옮긴 것처럼 동작하는 특성을 말한다. 하지만 var와는 달리 let으로 선언된 변수는 참조 에러(ReferenceError)가 발생한다. 이는 let으로 선언된 변수는 스코프의 시작에서 변수의 선언까지 일시적 사각지대(Temporal Dead Zone;TDZ)에 빠지기 때문이다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span> <span class="c1">// undefined
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span> <span class="c1">// Error: Uncaught ReferenceError: bar is not defined
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">let</span> <span class="nx">bar</span><span class="p">;</span>
</span></span></code></pre></div><p>변수의 생성단계</p>
<ul>
<li>선언 단계(Declaration phase): 변수를 실행컨텍스트의 변수객체(Variable Object)에 등록한다. 이 변수 객체는 스코프가 참조하는 대상이 된다.</li>
<li>초기화 단계(Initialization phase): 변수 객체(Variable Object)에 등록된 변수를 위한 공간을 메모리에 확보한다. 이 단계에서 변수는 undefined로 초기화된다.</li>
<li>할당 단계(Assginment phase): undefined로 초기화된 변수에 실제 값을 할당한다.</li>
</ul>
<p><strong>var 키워드로 선언된 변수는 선언 단계와 초기화 단계가 한번에 이루어진다.</strong> 즉, 스코프에 변수를 등록(선언 단계)하고 메모리에 변수를 위한 공간을 확보한 후, defined로 초기화(초기화 단계)한다. 따라서 변수 선언문 이전에 변수에 접근하여도 스코프에 변수가 존재하므로 에러가 발생하지 않고 undefined 를 반환한다. 이후 할당문에 도달하면 비로소 값이 할당된다. 이런 현상을 변수 호이스팅이라 한다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// 스코프의 선두에서 선언 단계와 초기화 단계가 실행된다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span> <span class="c1">// undefined
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span> <span class="c1">// undefined
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// 할당문에서 할당 실행
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span> <span class="c1">// 1
</span></span></span></code></pre></div><p><strong>let 키워드로 선언된 변수는 선언 단계와 초기화 단계가 분리되어 진행된다.</strong> 즉, 스코프에 변수를 등록(선언) 하지만 초기화 단계는 변수 선언문에 도달했을 때 이루어진다. 초기화 이전에 변수에 접근하려고 하면 참조 에러(ReferenceError)가 발생한다. 이는 메모리 공간이 아직 확보되지 않았기 때문이다. 따라서 스코프 시작 지점부터 초기화 시작 지점까지는 변수를 참조할 수 없다. 해당 구간을 <em>&lsquo;일시적 사각지대(Temporal Dead Zone;TDZ)&rsquo;</em> 이라고 부른다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// 스코프의 선두에서 선언 단계가 실행된다.
</span></span></span><span class="line"><span class="cl"><span class="c1">// 아직 변수가 초기화(메모리 공간 확보와 undefined로 초기화)되지 않아 변수를 참조할 수 없다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span> <span class="c1">// ReferenceError: foo is not defined.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">foo</span><span class="p">;</span> <span class="c1">// 변수 선언문에서 초기화 단계가 실행된다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span> <span class="c1">// undefined
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// 할당문에서 할당 단계 실행된다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span> <span class="c1">// 1
</span></span></span></code></pre></div><p>ES6에서는 호이스팅이 발생하지 않는 것과 차이가 없어보인다. 하지만 그렇지 않다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// 전역변수
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">cosnole</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span> <span class="c1">// ReferenceError: foo is not defined
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// 지역변수
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><p>위 예제의 경우, 전역 변수 foo 값이 출력될 것 같지만 호이스팅이 발생하므로 ReferenceError가 발생한다.</p>
<h1 id="want-to-more-about-sob">Want to more about &#x1f62d;<a hidden class="anchor" aria-hidden="true" href="#want-to-more-about-sob">#</a></h1>
<ul>
<li>과거 hoisting을 통해 코딩 방식을 함수를 한군데 모아두고 실행시 불러올 수 있었다. 해당 방식은 다른 사람이 코드를 리뷰하기 쉬워진다. 다만 변수명이 중복될 때나 runtime 오류가 발생했을 때 해당 오류를 찾아내기 어렵다.</li>
<li>예제를 찾다보니 ref 사이트를 많이 참조했다.</li>
<li>글쓰기 구조화가 필요한거 같다. index가 엉망이다.</li>
<li>이미지 파일을 등록할 서버를 찾아야겠다.</li>
</ul>
<h1 id="ref-link">ref &#x1f517;<a hidden class="anchor" aria-hidden="true" href="#ref-link">#</a></h1>
<ul>
<li><a href="https://poiemaweb.com/es6-block-scope">https://poiemaweb.com/es6-block-scope</a></li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://makethfun.github.io/tags/%EC%97%90%EC%9D%B4%EB%B8%94%EB%9F%B0/">에이블런</a></li>
      <li><a href="https://makethfun.github.io/tags/%EC%84%9C%EC%B4%88%EA%B5%AC-4%EC%B0%A8-%EC%82%B0%EC%97%85-%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4-%EA%B3%BC%EC%A0%95/">서초구 4차 산업 소프트웨어 과정</a></li>
      <li><a href="https://makethfun.github.io/tags/til/">TIL</a></li>
      <li><a href="https://makethfun.github.io/tags/today-i-learned/">Today I Learned</a></li>
      <li><a href="https://makethfun.github.io/tags/hoisting/">Hoisting</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://makethfun.github.io/posts/seocho/til-js-variable-type/">
    <span class="title">« Prev</span>
    <br>
    <span>[TIL] Js Variable Type</span>
  </a>
  <a class="next" href="https://makethfun.github.io/posts/seocho/til-nvm/">
    <span class="title">Next »</span>
    <br>
    <span>[TIL] Nvm</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://makethfun.github.io/">MY TIL CHALLENGE</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
