{{- /* Head custom content area start */ -}}
{{- /*     Insert any custom code (web-analytics, resources, etc.) - it will appear in the <head></head> section of every page. */ -}}
{{- /*     Can be overwritten by partial with the same name in the global layouts. */ -}}
{{- /* Head custom content area end */ -}}

<!--katex is working-->
{{ if or .Params.math .Site.Params.math }}
{{ partial "math.html" }}
{{ end }}

<!--mermaid is NOT working-->>
{{ if .Page.Store.Get "needMermaid" -}}
<script type="module">
    var theme = 'neutral';
      if (localStorage.getItem("pref-theme") == "dark") {
        theme = 'dark'
      } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        theme = 'dark'
      }
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({
      startOnLoad: true,
      'theme': theme,
    });
  </script>
  {{ end -}}